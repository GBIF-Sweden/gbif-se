<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
  {%- seo -%}
  <link rel="stylesheet" href="/assets/css/main.css?{{ "now" | date: "%Y%m%d%H%M" }}">
  {%- if page.load_leaflet == true -%}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css">
    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
  {%- endif -%}
  {%- if page.load_tablefilter == true -%}
    <script src="https://unpkg.com/tablefilter@0.7.3/dist/tablefilter/tablefilter.js"></script>
  {%- endif -%}
  {%- if page.load_calendar == true -%}
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
          headerToolbar: {
            left: 'title',
            right: 'prev,next'
          },
          titleFormat: {
            year: 'numeric',
            month: 'short'
          },
          firstDay: 1,
          initialView: 'dayGridMonth'
        });
        calendar.render();
      });
    </script>
    <style>
      .fc-toolbar {
          font-size: .9em;
      }
      .fc-toolbar h2 {
          font-size: 12px;
          white-space: normal !important;
      }
    </style>
  {%- endif -%}

  {%- if jekyll.environment == 'production' -%}
    <!-- Matomo -->
    <script type="text/javascript">
      var _paq = window._paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="//matomo.biodiversitydata.se/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '8']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Matomo Code -->
  {%- endif -%}

  <script type="text/javascript">
    function toggleMobileMenu() {
      document.getElementById("topMenu").classList.toggle("hidden");
      document.getElementById("topMenuOpen").classList.toggle("hidden");
      document.getElementById("topMenuClose").classList.toggle("hidden");
    }
  </script>
</head>
